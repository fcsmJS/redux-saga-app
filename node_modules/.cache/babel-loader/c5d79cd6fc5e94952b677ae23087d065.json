{"ast":null,"code":"import { call, put, takeEvery } from 'redux-saga/effects';\nimport { GET_USERS } from '../types';\nconst API_URL = `https://jsonplaceholder.typicode.com/users`;\n\nfunction getApi() {\n  return fetch(API_URL, {\n    method: `GET`,\n    headers: {\n      'Content-Type': `application/json`\n    }\n  }).then(response => response.json()).catch(error => {\n    throw error;\n  });\n}\n\nfunction* fetchUsers() {\n  try {\n    const users = yield call(getApi);\n    yield put({\n      type: GET_USERS.SUCCESS,\n      users\n    });\n  } catch (error) {\n    yield put({\n      type: GET_USERS.FAILED,\n      message: error.message\n    });\n  }\n}\n\nfunction* userSaga() {\n  yield takeEvery(GET_USERS.REQUESTED, fetchUsers);\n}\n\nexport default userSaga;","map":{"version":3,"sources":["/Users/alexey.ivanov/Documents/redux-saga-app/src/redux/sagas/user-saga.ts"],"names":["call","put","takeEvery","GET_USERS","API_URL","getApi","fetch","method","headers","then","response","json","catch","error","fetchUsers","users","type","SUCCESS","FAILED","message","userSaga","REQUESTED"],"mappings":"AAAA,SAAQA,IAAR,EAAcC,GAAd,EAAmBC,SAAnB,QAAmC,oBAAnC;AACA,SAAQC,SAAR,QAAwB,UAAxB;AAEA,MAAMC,OAAe,GAAI,4CAAzB;;AAEA,SAASC,MAAT,GAAkB;AAChB,SAAOC,KAAK,CAACF,OAAD,EAAU;AACpBG,IAAAA,MAAM,EAAG,KADW;AAEpBC,IAAAA,OAAO,EAAE;AACP,sBAAiB;AADV;AAFW,GAAV,CAAL,CAKJC,IALI,CAKEC,QAAD,IAAcA,QAAQ,CAACC,IAAT,EALf,EAMJC,KANI,CAMGC,KAAD,IAAW;AAChB,UAAMA,KAAN;AACD,GARI,CAAP;AASD;;AAED,UAAUC,UAAV,GAAuB;AACrB,MAAI;AACF,UAAMC,KAAK,GAAG,MAAMf,IAAI,CAACK,MAAD,CAAxB;AACA,UAAMJ,GAAG,CAAC;AACRe,MAAAA,IAAI,EAAEb,SAAS,CAACc,OADR;AAERF,MAAAA;AAFQ,KAAD,CAAT;AAID,GAND,CAME,OAAOF,KAAP,EAAc;AACd,UAAMZ,GAAG,CAAC;AACRe,MAAAA,IAAI,EAAEb,SAAS,CAACe,MADR;AAERC,MAAAA,OAAO,EAAEN,KAAK,CAACM;AAFP,KAAD,CAAT;AAID;AACF;;AAED,UAAUC,QAAV,GAAqB;AACnB,QAAMlB,SAAS,CAACC,SAAS,CAACkB,SAAX,EAAsBP,UAAtB,CAAf;AACD;;AAED,eAAeM,QAAf","sourcesContent":["import {call, put, takeEvery} from 'redux-saga/effects';\nimport {GET_USERS} from '../types';\n\nconst API_URL: string = `https://jsonplaceholder.typicode.com/users`;\n\nfunction getApi() {\n  return fetch(API_URL, {\n    method: `GET`,\n    headers: {\n      'Content-Type': `application/json`,\n    }\n  }).then((response) => response.json())\n    .catch((error) => {\n      throw error;\n    });\n}\n\nfunction* fetchUsers() {\n  try {\n    const users = yield call(getApi);\n    yield put({\n      type: GET_USERS.SUCCESS,\n      users\n    });\n  } catch (error) {\n    yield put({\n      type: GET_USERS.FAILED,\n      message: error.message\n    });\n  }\n}\n\nfunction* userSaga() {\n  yield takeEvery(GET_USERS.REQUESTED, fetchUsers);\n}\n\nexport default userSaga;\n"]},"metadata":{},"sourceType":"module"}